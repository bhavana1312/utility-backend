
1.0bhavana1312_utility-backendJavaFrontend"1767547264397*java2.B½<
`
[payment-service/src/main/java/com/utilitybilling/paymentservice/service/PaymentService.java2
	
type3
	
MAIN4


module-key5

payment-service6

package8
>
9payment-service:com.utilitybilling.paymentservice.service9
>
8com.utilitybilling.paymentservice.service.PaymentService11

class12

access13

public14


full-range15

(35:1)-(254:2)16

simple-name17

PaymentService18
,
&org.springframework.stereotype.Service20

unknown21

annotated by22


uses23
$
lombok.RequiredArgsConstructor25
J
Dcom.utilitybilling.paymentservice.service.PaymentService.paymentRepo27

field28

private29

(39:2)-(39:46)30

paymentRepo31
D
>com.utilitybilling.paymentservice.repository.PaymentRepository33

is type34
J
Dcom.utilitybilling.paymentservice.service.PaymentService.invoiceRepo36

(40:2)-(40:46)37

invoiceRepo38
D
>com.utilitybilling.paymentservice.repository.InvoiceRepository40
L
Fcom.utilitybilling.paymentservice.service.PaymentService.billingClient42

(41:2)-(41:44)43

billingClient44
;
5com.utilitybilling.paymentservice.feign.BillingClient46
M
Gcom.utilitybilling.paymentservice.service.PaymentService.consumerClient48

(42:2)-(42:46)49

consumerClient50
<
6com.utilitybilling.paymentservice.feign.ConsumerClient52
Q
Kcom.utilitybilling.paymentservice.service.PaymentService.notificationClient54

(43:2)-(43:54)55

notificationClient56
@
:com.utilitybilling.paymentservice.feign.NotificationClient58
P
Jcom.utilitybilling.paymentservice.service.PaymentService.invoicePdfService60

(44:2)-(44:52)61

invoicePdfService62
A
;com.utilitybilling.paymentservice.service.InvoicePdfService64
E
?com.utilitybilling.paymentservice.service.PaymentService.RANDOM66

(46:2)-(46:52)67

RANDOM68
š
“com.utilitybilling.paymentservice.service.PaymentService#initiate(Lcom/utilitybilling/paymentservice/dto/InitiatePaymentRequest;)Ljava/lang/Object;70

method71

(48:2)-(79:3)72

initiate73
B
<com.utilitybilling.paymentservice.dto.InitiatePaymentRequest75

	has param76
:
4com.utilitybilling.paymentservice.feign.BillResponse78

returns79


references80
Ž
‡com.utilitybilling.paymentservice.feign.BillingClient#getBill(Ljava/lang/String;)Lcom/utilitybilling/paymentservice/feign/BillResponse;82

calls83
8
2com.utilitybilling.paymentservice.feign.BillStatus85
<
6com.utilitybilling.paymentservice.feign.BillStatus.DUE87
@
:com.utilitybilling.paymentservice.feign.BillStatus.OVERDUE89
5
/com.utilitybilling.paymentservice.model.Payment91
9
3com.utilitybilling.paymentservice.model.PaymentMode93
@
:com.utilitybilling.paymentservice.model.PaymentMode.ONLINE95
;
5com.utilitybilling.paymentservice.model.PaymentStatus97
E
?com.utilitybilling.paymentservice.model.PaymentStatus.INITIATED99
9
2org.springframework.data.repository.CrudRepository101
d
]org.springframework.data.repository.CrudRepository#save(Ljava/lang/Object;)Ljava/lang/Object;103
?
8com.utilitybilling.paymentservice.feign.ConsumerResponse105

ˆcom.utilitybilling.paymentservice.feign.ConsumerClient#get(Ljava/lang/String;)Lcom/utilitybilling/paymentservice/feign/ConsumerResponse;107
†
com.utilitybilling.paymentservice.feign.NotificationClient#send(Lcom/utilitybilling/paymentservice/feign/NotificationRequest;)V109
B
;com.utilitybilling.paymentservice.feign.NotificationRequest111
™
‘com.utilitybilling.paymentservice.service.PaymentService#confirm(Lcom/utilitybilling/paymentservice/dto/ConfirmPaymentRequest;)Ljava/lang/Object;113

(81:2)-(148:3)114

confirm115
B
;com.utilitybilling.paymentservice.dto.ConfirmPaymentRequest117
j
corg.springframework.data.repository.CrudRepository#findById(Ljava/lang/Object;)Ljava/util/Optional;119
C
<com.utilitybilling.paymentservice.model.PaymentStatus.FAILED121
Z
Scom.utilitybilling.paymentservice.feign.BillingClient#markPaid(Ljava/lang/String;)V123
D
=com.utilitybilling.paymentservice.model.PaymentStatus.SUCCESS125
6
/com.utilitybilling.paymentservice.model.Invoice127
;
4com.utilitybilling.paymentservice.dto.InvoicePdfData129
³
«com.utilitybilling.paymentservice.service.PaymentService#toPdfData(Lcom/utilitybilling/paymentservice/model/Invoice;)Lcom/utilitybilling/paymentservice/dto/InvoicePdfData;131
…
~com.utilitybilling.paymentservice.service.InvoicePdfService#generate(Lcom/utilitybilling/paymentservice/dto/InvoicePdfData;)[B133
‹
ƒcom.utilitybilling.paymentservice.service.PaymentService#offlinePay(Lcom/utilitybilling/paymentservice/dto/OfflinePaymentRequest;)V135

(150:2)-(204:3)136


offlinePay137
B
;com.utilitybilling.paymentservice.dto.OfflinePaymentRequest139
–
Žcom.utilitybilling.paymentservice.service.PaymentService#history(Ljava/lang/String;IILjava/lang/String;)Lorg/springframework/data/domain/Page;141

(206:2)-(214:3)142

history143
+
$org.springframework.data.domain.Page145
2
+org.springframework.data.domain.PageRequest147

…org.springframework.data.domain.PageRequest#of(IILorg/springframework/data/domain/Sort;)Lorg/springframework/data/domain/PageRequest;149
+
$org.springframework.data.domain.Sort151
š
’org.springframework.data.domain.Sort#by(Lorg/springframework/data/domain/Sort$Direction;[Ljava/lang/String;)Lorg/springframework/data/domain/Sort;153
5
.org.springframework.data.domain.Sort$Direction155
:
3org.springframework.data.domain.Sort$Direction.DESC157
»
³com.utilitybilling.paymentservice.repository.PaymentRepository#findByConsumerId(Ljava/lang/String;Lorg/springframework/data/domain/Pageable;)Lorg/springframework/data/domain/Page;159
Û
Ócom.utilitybilling.paymentservice.repository.PaymentRepository#findByConsumerIdAndUtilityType(Ljava/lang/String;Ljava/lang/String;Lorg/springframework/data/domain/Pageable;)Lorg/springframework/data/domain/Page;161
l
ecom.utilitybilling.paymentservice.service.PaymentService#invoices(Ljava/lang/String;)Ljava/util/List;163

(216:2)-(218:3)164

invoices165
z
scom.utilitybilling.paymentservice.repository.InvoiceRepository#findByConsumerId(Ljava/lang/String;)Ljava/util/List;167
q
jcom.utilitybilling.paymentservice.service.PaymentService#outstanding(Ljava/lang/String;)Ljava/lang/Object;169

(220:2)-(222:3)170

outstanding171
I
Bcom.utilitybilling.paymentservice.feign.OutstandingBalanceResponse173
¡
™com.utilitybilling.paymentservice.feign.BillingClient#outstanding(Ljava/lang/String;)Lcom/utilitybilling/paymentservice/feign/OutstandingBalanceResponse;175

(224:2)-(232:3)176

	toPdfData177
]
Vcom.utilitybilling.paymentservice.service.PaymentService#getPayments()Ljava/util/List;179

(234:2)-(236:3)180

getPayments181
=
6org.springframework.data.repository.ListCrudRepository183
W
Porg.springframework.data.repository.ListCrudRepository#findAll()Ljava/util/List;185
h
acom.utilitybilling.paymentservice.service.PaymentService#downloadInvoicePdf(Ljava/lang/String;)[B187

(238:2)-(243:3)188

downloadInvoicePdf189
}
vcom.utilitybilling.paymentservice.repository.InvoiceRepository#findByPaymentId(Ljava/lang/String;)Ljava/util/Optional;191
=
6org.springframework.web.server.ResponseStatusException193
*
#org.springframework.http.HttpStatus195
4
-org.springframework.http.HttpStatus.NOT_FOUND197
š
’com.utilitybilling.paymentservice.service.PaymentService#getPayments(IILjava/lang/String;Ljava/lang/String;)Lorg/springframework/data/domain/Page;199

(245:2)-(253:3)200
Ã
»com.utilitybilling.paymentservice.repository.PaymentRepository#search(Ljava/lang/String;Ljava/lang/String;Lorg/springframework/data/domain/Pageable;)Lorg/springframework/data/domain/Page;202J%
#
1
12

3
4

5
6 Z

7
7982


5
68jã
J
10D
101112 *
1% %(:7B$


13
14


15
16


17
18
N
65H
656628 *
1. .($210:7B$


13
29


15
67


17
68

74
747521

196
19619721

24
242521

124
12412521

126
12612721

96
969721

154
15415521
N
59H
596028 *
1," ,(3210:7B$


13
29


15
61


17
62

104
10410521

152
15215321

92
929321

106
10610721

150
15015121

45
454621

102
10210321

172
17217321

192
19219321

146
14614721

182
18218321
U
162N
16216371 *
1Ø Ø(210:7B&


13
14

15
164

17
165

94
949521
N
26H
262728 *
1'" '(-210:7B$


13
29


15
30


17
31

90
909121

138
13813921

144
14414521

110
11011121

132
13213321

98
989921

118
11811921

86
868721
U
198N
19819971 *
1õ õ("210:7B&


13
14

15
200

17
181

184
18418521
U
134N
13413571 *
1– –(210:7B&


13
14

15
136

17
137

160
16016121

166
16616721

32
323321
U
130N
13013171 *
1à à("210:7B&


13
29

15
176

17
177
N
47H
474828 *
1* *(-210:7B$


13
29


15
49


17
50

174
17417521
U
186N
18618771 *
1î î("210:7B&


13
14

15
188

17
189

63
636421

39
394021

100
10010121

81
818221
U
140N
14014171 *
1Î Î(210:7B&


13
14

15
142

17
143

57
575821

19
192021

122
12212321
S
112L
11211371 *
1Q Q(210:7B&


13
14

15
114

17
115

120
12012121

77
777821

156
15615721
U
168N
16816971 *
1Ü Ü(210:7B&


13
14

15
170

17
171

51
515221

128
12812921
N
35H
353628 *
1(" ((-210:7B$


13
29


15
37


17
38

116
11611721

190
19019121

201
20120221
N
69H
697071 *
10 0(210:7B$


13
14


15
72


17
73

194
19419521

108
10810921

158
15815921

148
14814921

84
848521
U
178N
17817971 *
1ê ê("210:7B&


13
14

15
180

17
181

88
888921
N
41H
414228 *
1) )(+210:7B$


13
29


15
43


17
44
N
53H
535428 *
1+# +(5210:7B$


13
29


15
55


17
56rêJ

101922*
1# #(	

101923*
1# #(	

102422*
1$ $(

102423*
1$ $(

263234*
1' '(!

263223*
1' '(!

263223*
1'" '(-

353934*
1( ((!

353923*
1( ((!

353923*
1(" ((-

414534*
1) )(

414523*
1) )(

414523*
1) )(+

475134*
1* *(

475123*
1* *(

475123*
1* *(-

535734*
1+ +("

535723*
1+ +("

535723*
1+# +(5

596334*
1, ,(!

596323*
1, ,(!

596323*
1," ,(3

697476*
10 0(/

697434*
100 0(7

697423*
10 0(/

697734*
11 1(

697723*
11 1(

697779*
11 1(,

694580*
11 1(,

698183*
11% 1(,

694180*
11 1($

694523*
11 1($

694180*
11 1($

698423*
13  3(*

698423*
13+ 3(.

698680*
13+ 3(.

698423*
13L 3(V

698423*
13W 3(^

698880*
13W 3(^

696580*
16( 6(.

696580*
16( 6(.

699034*
18 8(

699023*
18 8(


699083*
18 8(

699223*
1= =(

699223*
1= =(

699480*
1= =(

699623*
1> >(

699623*
1> >(&

699880*
1> >(&

699079*
1C C(

6910080*
1C C(

6910283*
1C C(

692680*
1C C(

693223*
1C C(

692680*
1C C(

6910434*
1E E(

6910423*
1E E(

6910479*
1E E(1

695180*
1E E(1

6910683*
1E. E(1

694780*
1E E(-

695123*
1E E(-

694780*
1E E(-

695780*
1G G(

6910883*
1G G(

695380*
1G G(

695723*
1G G(

695380*
1G G(

6911023*
1G G(.

11211676*
1Q Q(-

11211634*
1Q. Q(5

11211623*
1Q Q(-

1129034*
1R R(

1129023*
1R R(


11210080*
1R R(#

11211883*
1R R(#

1122680*
1R R(

1123223*
1R R(

1122680*
1R R(

1129623*
1U U(%

1129623*
1U& U(/

1129880*
1U& U(/

1129623*
1Y Y(

1129623*
1Y Y($

11212080*
1Y Y($

1129079*
1Z Z(

11210080*
1Z Z(

11210283*
1Z Z(

1122680*
1Z Z(

1123223*
1Z Z(

1122680*
1Z Z(

11210434*
1\ \(

11210423*
1\ \(

11210479*
1\  \(2

1125180*
1\  \(2

11210683*
1\/ \(2

1124780*
1\  \(.

1125123*
1\  \(.

1124780*
1\  \(.

1125780*
1^ _(

11210883*
1_ _(

1125380*
1^ ^(

1125723*
1^ ^(

1125380*
1^ ^(

11211023*
1_ _(

1124580*
1g g(

11212283*
1g g(

1124180*
1g g(

1124523*
1g g(

1124180*
1g g(

1129623*
1i i(

1129623*
1i i($

11212480*
1i i($

1129079*
1k k(

11210080*
1k k(

11210283*
1k k(

1122680*
1k k(

1123223*
1k k(

1122680*
1k k(

1127734*
1m m(

1127723*
1m m(

1127779*
1m m(,

1124580*
1m m(,

1128183*
1m% m(,

1124180*
1m m($

1124523*
1m m($

1124180*
1m m($

11212634*
1o o(

11212623*
1o o(


11212683*
1o o(

11212679*
1‡ ‡(

11210080*
1‡ ‡(

11210283*
1‡ ‡(

1123580*
1‡ ‡(

1123923*
1‡ ‡(

1123580*
1‡ ‡(

11210434*
1ˆ ˆ(

11210423*
1ˆ ˆ(

11210479*
1ˆ ˆ(1

1125180*
1ˆ ˆ(1

11210683*
1ˆ. ˆ(1

1124780*
1ˆ ˆ(-

1125123*
1ˆ ˆ(-

1124780*
1ˆ ˆ(-

11212834*
1Š Š(

11212823*
1Š Š(

11212879*
1Š Š(%

1121080*
1Š Š(%

11213083*
1Š Š(%

1126380*
1‹ ‹(*

11213283*
1‹" ‹(*

1125980*
1‹ ‹(!

1126323*
1‹ ‹(!

1125980*
1‹ ‹(!

1125780*
1Ž Ž(

11210883*
1Ž Ž(

1125380*
1Ž Ž(

1125723*
1Ž Ž(

1125380*
1Ž Ž(

11211023*
1Ž Ž(.

13413876*
1– –(.

13413834*
1–/ –(6

13413823*
1– –(.

1347734*
1— —(

1347723*
1— —(

1347779*
1— —(,

1344580*
1— —(,

1348183*
1—% —(,

1344180*
1— —($

1344523*
1— —($

1344180*
1— —($

1348423*
1™  ™(*

1348423*
1™+ ™(.

1348680*
1™+ ™(.

1348423*
1™L ™(V

1348423*
1™W ™(^

1348880*
1™W ™(^

1349034*
1œ œ(

1349023*
1œ œ(


1349083*
1œ œ(

1349623*
1¡ ¡(

1349623*
1¡ ¡($

13412480*
1¡ ¡($

1349079*
1¥ ¥(

13410080*
1¥ ¥(

13410283*
1¥ ¥(

1342680*
1¥ ¥(

1343223*
1¥ ¥(

1342680*
1¥ ¥(

13410434*
1¦ ¦(

13410423*
1¦ ¦(

13410479*
1¦ ¦(1

1345180*
1¦ ¦(1

13410683*
1¦. ¦(1

1344780*
1¦ ¦(-

1345123*
1¦ ¦(-

1344780*
1¦ ¦(-

1344580*
1§ §(

13412283*
1§ §(

1344180*
1§ §(

1344523*
1§ §(

1344180*
1§ §(

13412634*
1© ©(

13412623*
1© ©(


13412683*
1© ©(

13412679*
1Á Á(

13410080*
1Á Á(

13410283*
1Á Á(

1343580*
1Á Á(

1343923*
1Á Á(

1343580*
1Á Á(

13412834*
1Ã Ã(

13412823*
1Ã Ã(

13412879*
1Ã Ã(%

1341080*
1Ã Ã(%

13413083*
1Ã Ã(%

1346380*
1Ä Ä(*

13413283*
1Ä" Ä(*

1345980*
1Ä Ä(!

1346323*
1Ä Ä(!

1345980*
1Ä Ä(!

1345780*
1Ç Ç(

13410883*
1Ç Ç(

1345380*
1Ç Ç(

1345723*
1Ç Ç(

1345380*
1Ç Ç(

13411023*
1Ç Ç(.

14014479*
1Î	 Î(

14014423*
1Î	 Î(

1409023*
1Î Î(

14014634*
1Ï Ï(

14014623*
1Ï Ï(

14014679*
1Ï Ï((

14014680*
1Ï Ï((

14014883*
1Ï& Ï((

14014623*
1Ï Ï(%

14015079*
1Ï5 Ï(<

14015080*
1Ï5 Ï(<

14015283*
1Ï: Ï(<

14015023*
1Ï5 Ï(9

14015023*
1Ï= Ï(A

14015423*
1ÏB Ï(K

14015480*
1ÏB Ï(K

14015423*
1ÏL Ï(P

14015680*
1ÏL Ï(P

14014479*
1Ò Ò('

1403280*
1Ò Ò('

14015883*
1Ò Ò('

1402680*
1Ò Ò(

1403223*
1Ò Ò(

1402680*
1Ò Ò(

14014479*
1Õ
 Õ(4

1403280*
1Õ
 Õ(4

14016083*
1Õ Õ(4

1402680*
1Õ
 Õ(

1403223*
1Õ
 Õ(

1402680*
1Õ
 Õ(

16212623*
1Ø Ø(

1623980*
1Ù
 Ù(&

16216683*
1Ù Ù(&

1623580*
1Ù
 Ù(

1623923*
1Ù
 Ù(

1623580*
1Ù
 Ù(

16817279*
1Ý
 Ý(#

1684580*
1Ý
 Ý(#

16817483*
1Ý Ý(#

1684180*
1Ý
 Ý(

1684523*
1Ý
 Ý(

1684180*
1Ý
 Ý(

13012879*
1à
 à(

13012676*
1à# à(*

13012823*
1à
 à(

13012634*
1à+ à(.

13012623*
1à# à(*

13012823*
1á
 á(

1789023*
1ê ê(

17818280*
1ë
 ë(

17818483*
1ë ë(

1782680*
1ë
 ë(

1783223*
1ë
 ë(

1782680*
1ë
 ë(

18612634*
1ð ð(

18612623*
1ð ð(


18612679*
1ð ñ(

1863980*
1ð ð(,

18619083*
1ð ð(,

1863580*
1ð ð(

1863923*
1ð ð(

1863580*
1ð ð(

18619283*
1ñ ñ(3

18619423*
1ñ4 ñ(>

18619423*
1ñ? ñ(H

18619680*
1ñ? ñ(H

1866380*
1ò
 ò($

18613283*
1ò ò($

1865980*
1ò
 ò(

1866323*
1ò
 ò(

1865980*
1ò
 ò(

18612879*
1ò% ò(.

1861080*
1ò% ò(.

18613083*
1ò% ò(.

19814479*
1õ	 õ(

19814423*
1õ	 õ(

1989023*
1õ õ(

19814634*
1÷ ÷(

19814623*
1÷ ÷(

19814679*
1÷ ÷((

19814680*
1÷ ÷((

19814883*
1÷& ÷((

19814623*
1÷ ÷(%

19815079*
1÷5 ÷(<

19815080*
1÷5 ÷(<

19815283*
1÷: ÷(<

19815023*
1÷5 ÷(9

19815023*
1÷= ÷(A

19815423*
1÷B ÷(K

19815480*
1÷B ÷(K

19815423*
1÷L ÷(P

19815680*
1÷L ÷(P

19814479*
1ü
 ü(

1983280*
1ü
 ü(

19820183*
1ü ü(

1982680*
1ü
 ü(

1983223*
1ü
 ü(

1982680*
1ü
 ü(